<div class="breadcumb-wrapper" data-bg-src="assets/img/breadcumb/breadcumb-bg.jpg">
  <div class="container z-index-common">
    <div class="breadcumb-content">
      <h1 class="breadcumb-title">GERANTS</h1>
      <ul class="breadcumb-menu">
        <li><a href="index.html">Home</a></li>
        <li>Gerants</li>
      </ul>
    </div>
  </div>
</div>

<p-dialog header="Ajouter un gérant" [(visible)]="displayModal" [style]="{width: '900px'}">
  <div class="as-checkout-wrapper space-extra-bottom" style="margin-top: 40px;">
    <div class="container">

      <div class="row">
        <div class="col-12 col-xxl-7 mt-35 mt-xl-0">

          <form class="woocommerce-form-login mb-30" [formGroup]="form" (ngSubmit)="onSubmit()">
            <div class="row">
              <div class="form-group col-6"><label>Nom <span style="color: red">*</span> </label>
                <input type="text" class="form-control" placeholder="Nom" formControlName="nom">
                <span *ngIf="!form.get('nom')?.valid && form.get('nom')?.touched"
                  style="font-size: 13px; color: red; margin-top: -50px;">
                  * Please provide a valid nom
                </span>
              </div>

              <div class="form-group col-6"><label>Prénom <span style="color: red">*</span> </label>
                <input type="text" class="form-control" placeholder="Prénom" formControlName="prenom">
                <span *ngIf="!form.get('prenom')?.valid && form.get('prenom')?.touched"
                  style="font-size: 13px; color: red; margin-top: -50px;">
                  * Please provide a valid prenom
                </span>
              </div>
            </div>

            <div class="row">
              <div class="form-group col-6"><label>Num tel <span style="color: red">*</span> </label>
                <input type="number" class="form-control" placeholder="Num tel" formControlName="numTel">
                <span *ngIf="!form.get('numTel')?.valid && form.get('numTel')?.touched"
                  style="font-size: 13px; color: red; margin-top: -50px;">
                  * Please provide a valid Num tel
                </span>
              </div>

              <div class="form-group col-6"><label>Type</label>
                <input type="text" class="form-control" placeholder="Type" formControlName="type">
                <span *ngIf="!form.get('type')?.valid && form.get('type')?.touched"
                  style="font-size: 13px; color: red; margin-top: -50px;">
                  * Please provide a valid type
                </span>
              </div>
            </div>

            <hr>

            <div class="row">
              <div class="form-group col-6"><label>Login <span style="color: red">*</span> </label>
                <input type="text" class="form-control" placeholder="Login" formControlName="username">
                <span *ngIf="!form.get('username')?.valid && form.get('username')?.touched"
                  style="font-size: 13px; color: red; margin-top: -50px;">
                  * Please provide a valid username
                </span>
              </div>

              <div class="form-group col-6"><label>E-mail <span style="color: red">*</span> </label>
                <input type="text" class="form-control" placeholder="E-mail" formControlName="email">
                <span *ngIf="!form.get('email')?.valid && form.get('email')?.touched"
                  style="font-size: 13px; color: red; margin-top: -50px;">
                  * Please provide a valid email
                </span>
              </div>
            </div>

            <div class="form-group col-12"><label>Mot de passe <span style="color: red">*</span> </label>
              <input type="password" class="form-control" placeholder="Mot de passe" formControlName="password">
              <span *ngIf="!form.get('password')?.valid && form.get('password')?.touched"
                style="font-size: 13px; color: red; margin-top: -50px;">
                * Please provide a valid password
              </span>
            </div>

            <hr>

            <div class="form-group">
              <button type="submit" class="as-btn">Ajouter</button>
            </div>
          </form>
        </div>
      </div>

    </div>
  </div>

</p-dialog>

<section class="space">

  <div class="row">

    <div class="text-center mt-n5"><button (click)="showModal()" class="as-btn">Ajouter un gérant</button></div>

  </div>

  <div class="container">
    <div class="row gy-40">

      <ng-container *ngFor="let gerant of gerants">

        <div class="col-md-6 col-lg-4 col-xxl-3">
          <div class="team-card">
            <div class="team-content">
              <h3 class="team-title box-title"><a href="team-details.html"> {{ gerant.nom }} {{ gerant.prenom }} </a>
              </h3><span class="team-desig"> {{ gerant.type }} </span>
              <div class="as-social">
                <button class="as-btn" (click)="supprimerGerant($event, gerant.id)">Supprimer
                </button>
                <button class="as-btn mx-1" (click)="goToGerant(gerant.id)">Details
                </button>
              </div>
            </div>
          </div>
        </div>

      </ng-container>

    </div>
  </div>
</section>
<p-toast position="bottom-right"></p-toast>
<p-confirmPopup></p-confirmPopup>
